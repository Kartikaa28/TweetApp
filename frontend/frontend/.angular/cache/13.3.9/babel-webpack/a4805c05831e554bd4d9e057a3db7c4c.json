{"ast":null,"code":"import { Likes } from '../service/data/tweets-data.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../service/data/tweets-data.service\";\nimport * as i3 from \"../service/data/users/user-data.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction UserTweetsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.tweetsToShow, \" \");\n  }\n}\n\nfunction UserTweetsComponent_li_9_small_9_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const l_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(l_r4.likes);\n  }\n}\n\nfunction UserTweetsComponent_li_9_small_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 17);\n    i0.ɵɵtemplate(1, UserTweetsComponent_li_9_small_9_ng_container_1_Template, 2, 1, \"ng-container\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const l_r4 = ctx.$implicit;\n    const tweet_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", tweet_r2.id === l_r4.id && l_r4.likes != 0);\n  }\n}\n\nfunction UserTweetsComponent_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 9)(1, \"h5\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 11);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 12)(6, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function UserTweetsComponent_li_9_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const tweet_r2 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.updateLikes(tweet_r2.id);\n    });\n    i0.ɵɵelementStart(7, \"i\", 14);\n    i0.ɵɵtext(8, \"thumb_up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, UserTweetsComponent_li_9_small_9_Template, 2, 1, \"small\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function UserTweetsComponent_li_9_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const tweet_r2 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.checkComments(tweet_r2.id);\n    });\n    i0.ɵɵelementStart(11, \"i\", 14);\n    i0.ɵɵtext(12, \"comment\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"small\", 16);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const tweet_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"@\", tweet_r2.loginId, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tweet_r2.tweets);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.likes);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 4, tweet_r2.date, \"dd MMM yyyy, h:mm a\"));\n  }\n}\n\nexport let UserTweetsComponent = /*#__PURE__*/(() => {\n  class UserTweetsComponent {\n    constructor(route, service, router, serv) {\n      this.route = route;\n      this.service = service;\n      this.router = router;\n      this.serv = serv;\n      this.name1 = '';\n      this.name2 = '';\n      this.tweetsToShow = '';\n      this.tweets = [];\n      this.user = {\n        firstName: '',\n        lastName: '',\n        email: '',\n        loginId: '',\n        password: '',\n        contactNumber: ''\n      };\n      this.like = {\n        id: 0,\n        likes: 0\n      };\n      this.likes = [];\n    }\n\n    ngOnInit() {\n      this.name1 = this.route.snapshot.params['loginId1'];\n      this.name2 = this.route.snapshot.params['loginId2'];\n      this.serv.getUser(this.name1).subscribe(data => {\n        this.user = data;\n      });\n      this.service.getTweetsofUser(this.name1).subscribe(response => {\n        this.tweets = response;\n\n        if (!this.tweets.length) {\n          this.tweetsToShow = \"No tweets to show for this user.\";\n        }\n      });\n      this.service.getAllLikes().subscribe(data => {\n        this.likes = data;\n      });\n    }\n\n    updateLikes(id) {\n      this.service.getLikes(id).subscribe(response => {\n        this.like = response;\n\n        if (this.like === null) {\n          this.service.updateLikes(-1, new Likes(id, 1), this.name2).subscribe(data => {\n            this.router.navigate(['tweets', this.name2, 'user', this.name1]).then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          this.like.likes = this.like.likes + 1;\n          this.service.updateLikes(this.like.id, this.like, this.name2).subscribe(data => {\n            this.router.navigate(['tweets', this.name2, 'user', this.name1]).then(() => {\n              window.location.reload();\n            });\n          });\n        }\n      });\n    }\n\n    checkComments(tweetId) {\n      this.router.navigate(['tweets', this.name2, 'comments', tweetId]);\n    }\n\n  }\n\n  UserTweetsComponent.ɵfac = function UserTweetsComponent_Factory(t) {\n    return new (t || UserTweetsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.TweetsDataService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.UserDataService));\n  };\n\n  UserTweetsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserTweetsComponent,\n    selectors: [[\"app-user-tweets\"]],\n    decls: 10,\n    vars: 5,\n    consts: [[1, \"card\"], [1, \"card-body\"], [1, \"container\"], [1, \"card-header\"], [1, \"text-muted\", \"sm\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"alert\", \"alert-warning\"], [1, \"list-group-item\"], [1, \"semibold\", \"ellipsis\", \"nm\", \"font-italic\"], [1, \"nm\"], [1, \"button\"], [3, \"click\"], [1, \"material-icons\"], [\"class\", \"badge badge-primary badge-pill\", \"style\", \"background-color:rgb(33, 150, 70)\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-muted\"], [1, \"badge\", \"badge-primary\", \"badge-pill\", 2, \"background-color\", \"rgb(33, 150, 70)\"], [4, \"ngIf\"]],\n    template: function UserTweetsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵtext(4);\n        i0.ɵɵelementStart(5, \"small\", 4);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(7, UserTweetsComponent_div_7_Template, 2, 1, \"div\", 5);\n        i0.ɵɵelementStart(8, \"ul\", 6);\n        i0.ɵɵtemplate(9, UserTweetsComponent_li_9_Template, 16, 7, \"li\", 7);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"@\", ctx.user.loginId, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\" \", ctx.user.firstName, \" \", ctx.user.lastName, \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.tweetsToShow);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.tweets);\n      }\n    },\n    directives: [i4.NgIf, i4.NgForOf],\n    pipes: [i4.DatePipe],\n    styles: [\".button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:none;color:#4285f4}li[_ngcontent-%COMP%]{border-left:1rems;border-right:1rems;box-shadow:5px 10px #4285f4}.tweet[_ngcontent-%COMP%]{padding-bottom:1%;padding-top:1%}h1[_ngcontent-%COMP%]{display:inline}.sm[_ngcontent-%COMP%]{font-size:larger}h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#594e4e}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:10px;color:#ffc096;background-color:#509ff9;font-size:x-large;font-weight:lighter}button[_ngcontent-%COMP%]{background-color:#509ff9;color:#ffc096;font-weight:600}label[_ngcontent-%COMP%]{color:#fe9e5e;font-weight:600}.card[_ngcontent-%COMP%]{border:none}\"]\n  });\n  return UserTweetsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}